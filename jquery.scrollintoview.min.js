/*
 * jQuery scrollintoview() plugin and :scrollable selector filter
 *
 * Version 1.8 (14 Jul 2011)
 * Requires jQuery 1.4 or newer
 *
 * Copyright (c) 2011 Robert Koritnik
 * Licensed under the terms of the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(e,t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else if(typeof exports==="object"){t(require("jquery"))}else{t(e.jQuery)}}(this,function(e){var t={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var n={duration:"fast",direction:"both"};var r=/^(?:html)$/i;var i=function(t,n){n=n||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var r=document.defaultView&&document.defaultView.getComputedStyle?true:false;var i={top:parseFloat(r?n.borderTopWidth:e.css(t,"borderTopWidth"))||0,left:parseFloat(r?n.borderLeftWidth:e.css(t,"borderLeftWidth"))||0,bottom:parseFloat(r?n.borderBottomWidth:e.css(t,"borderBottomWidth"))||0,right:parseFloat(r?n.borderRightWidth:e.css(t,"borderRightWidth"))||0};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right}};var s=function(t){var n=e(window);var s=r.test(t[0].nodeName);return{border:s?{top:0,left:0,bottom:0,right:0}:i(t[0]),scroll:{top:(s?n:t).scrollTop(),left:(s?n:t).scrollLeft()},scrollbar:{right:s?0:t.innerWidth()-t[0].clientWidth,bottom:s?0:t.innerHeight()-t[0].clientHeight},rect:function(){var e=t[0].getBoundingClientRect();return{top:s?0:e.top,left:s?0:e.left,bottom:s?t[0].clientHeight:e.bottom,right:s?t[0].clientWidth:e.right}}()}};e.fn.extend({scrollintoview:function(i){i=e.extend({},n,i);i.direction=t[typeof i.direction==="string"&&i.direction.toLowerCase()]||t.both;var o="";if(i.direction.x===true)o="horizontal";if(i.direction.y===true)o=o?"both":"vertical";var u=this.eq(0);var a=u.closest(":scrollable("+o+")");if(a.length>0){a=a.eq(0);var f={e:s(u),s:s(a)};var l={top:f.e.rect.top-(f.s.rect.top+f.s.border.top),bottom:f.s.rect.bottom-f.s.border.bottom-f.s.scrollbar.bottom-f.e.rect.bottom,left:f.e.rect.left-(f.s.rect.left+f.s.border.left),right:f.s.rect.right-f.s.border.right-f.s.scrollbar.right-f.e.rect.right};var c={};if(i.direction.y===true){if(l.top<0){c.scrollTop=f.s.scroll.top+l.top}else if(l.top>0&&l.bottom<0){c.scrollTop=f.s.scroll.top+Math.min(l.top,-l.bottom)}}if(i.direction.x===true){if(l.left<0){c.scrollLeft=f.s.scroll.left+l.left}else if(l.left>0&&l.right<0){c.scrollLeft=f.s.scroll.left+Math.min(l.left,-l.right)}}if(!e.isEmptyObject(c)){if(r.test(a[0].nodeName)){a=e("html,body")}a.animate(c,i.duration).eq(0).queue(function(t){e.isFunction(i.complete)&&i.complete.call(a[0]);t()})}else{e.isFunction(i.complete)&&i.complete.call(a[0])}}return this}});var o={auto:true,scroll:true,visible:false,hidden:false};e.extend(e.expr[":"],{scrollable:function(e,n,i,s){var u=t[typeof i[3]==="string"&&i[3].toLowerCase()]||t.both;var a=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle;var f={x:o[a.overflowX.toLowerCase()]||false,y:o[a.overflowY.toLowerCase()]||false,isRoot:r.test(e.nodeName)};if(!f.x&&!f.y&&!f.isRoot){return false}var l={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(f.x||f.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(f.y||f.isRoot)&&this.height.scroll>this.height.client}};return u.y&&l.scrollableY()||u.x&&l.scrollableX()}})})
